<html>
<head>
<title>PLSQL - Bulk</title>
	<link rel="shortcut icon" href="../../../images/icon.ico" type="image/ico">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.red-light_blue.min.css" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
<script defer src="../../../mdl/material.min.js"></script>
<style>
	.demo-card.mdl-card{width:950px;overflow:hidden;text-decoration:none;}
	.demo-card > .mdl-card__title{color:#fff;height:auto;background:url('images/oracle.png') center/cover;text-decoration:none;}
	.demo-card > .mdl-card__title a{color: inherit;text-decoration:none;}
	.demo-card > .mdl-card__menu{color:#fff;text-decoration:none;}	
	pre{font-family:inherit;font-size:15px}
</style>

</head>

<body>
		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
		<header class="mdl-layout__header">
			<div class="mdl-layout__header-row">
				<span class="mdl-layout-title"><a href="../../../index.html"><img src="../../../images/icon.ico" width="50" height="50"></a></span>
				<div class="mdl-layout-spacer"></div>
				
				
				</div>
		</header>
		<div class="mdl-layout__drawer" style="margin-left:-38px;width:280px">
			<span class="mdl-layout-title"><img src="../../../images/banner.png" width="240" height="65"></span>
			<nav class="mdl-navigation" style="margin-left=-20px">
				<a class="mdl-navigation__link" href="../../../c.html"><img src="../../../images/logo/c.png" width="35" height="35">   C LANGUAGE</a>
				<a class="mdl-navigation__link" href="../../../c++.html"><img src="../../../images/logo/c++.png" width="35" height="35">    C++ PROGRAMING</a>
				<a class="mdl-navigation__link" href="../../../java.html"><img src="../../../images/logo/java.png" width="35" height="35">  JAVA</a>
				<a class="mdl-navigation__link" href="../../../oracle.html"><img src="../../../images/logo/oracle.png" width="30" height="30"> ORACLE</a>
				<a class="mdl-navigation__link" href="../../../python.html"><img src="../../../images/logo/python.png" width="30" height="30"> PYTHON</a>
				<a class="mdl-navigation__link" href="../../../webdev.html"><img src="../../../images/logo/webdev.png" width="35" height="35"> WEB DEVELOPMENT</a>
				<a class="mdl-navigation__link" href="../../../oracle_ebs/docs/00.html"><img src="../../../images/logo/o_ebs.png" width="35" height="35"> ORACLE_EBS</a>
			</nav>
		</div>
	
	<main >	
		<table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" style="margin-top:25px;margin-left:100px;margin-bottom:15px;widht:12px">
  		<thead> </thead>
  		<tbody >
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="01.html" style="text-decoration:none;color:inherit">	1. Blocks</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="02.html" style="text-decoration:none;color:inherit">	2. Basics</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="03.html" style="text-decoration:none;color:inherit">	3. Data Types</a></td></tr>
		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="04.html" style="text-decoration:none;color:inherit">	4. Control Statements</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="05.html" style="text-decoration:none;color:inherit">	5. Loops</a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="06.html" style="text-decoration:none;color:inherit">	6. Cursors</a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="07.html" style="text-decoration:none;color:inherit"> 7. SubTopics in Cursors</a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="08.html" style="text-decoration:none;color:inherit">	8. RefCursor</a></td></tr>
		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="09.html" style="text-decoration:none;color:inherit">	9. PreDefined Exceptions</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="10.html" style="text-decoration:none;color:inherit">	10. UserDefined Exceptions</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="11.html" style="text-decoration:none;color:inherit">	11. NonPredefined Exceptions</a></td> </tr>
		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="12.html" style="text-decoration:none;color:inherit">	12. Procedures</a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="13.html" style="text-decoration:none;color:inherit">	13. Functions</a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="14.html" style="text-decoration:none;color:inherit">	14. Packages</a></td></tr>
		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="15.html" style="text-decoration:none;color:inherit">	15. Misc</a></td></tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="16.html" style="text-decoration:none;color:inherit">	16. Triggers</b></font></a></td> </tr>
    		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="17.html" style="text-decoration:none;color:inherit">			17. Collections</a></td> </tr>
  		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="18.html" style="text-decoration:none;color:inherit"><font size="3"><b>	18. Bulk</a></td> </tr>
		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="19.html" style="text-decoration:none;color:inherit">			19. Misc</a></td> </tr>
  		<tr> <td class="mdl-data-table__cell--non-numeric"><a href="20.html" style="text-decoration:none;color:inherit">			20. Pragma Autonomous Transaction</a></td> </tr>
		</tbody>
		</table>
	
		<table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" style="position:absolute;margin-top:-977px;margin-left:384px;width:955px;">
  		<thead> </thead>
  		<tbody    		<tr> <td class="mdl-data-table__cell--non-numeric"><center><font size="5"><b>18. Bulk</b></font></center></td></tr>
		</tbody>
		</table>
		
		<div class="page-content" style="position:absolute;margin-top:-930px;margin-left:370px;">
				<div class="mdl-grid">
					<div class="mdl-cell mdl-cell--10col" style="width:1500px;">
					<div class="mdl-card mdl-shadow--2dp demo-card" style="height:auto">
	<p><pre>
	<b>Bulk</b>
		=>Bulk Is one of the method which is used to improve the performance of the applications
		=>Oracle introduce bulk bind process using collections i.e., in this process we are putting all 
		sql statement related values into collection and in this collection we are performing insert, update, 
		delete at a time using “for all” statement
		=>In this bulk we have two actions
			i.Bulk collect
			ii.Bulk bind

	<b>1. Bulk collect</b>
		=>In this clause we are used to fetch the data from resource into collection
		=>This clauses used in 
			Select…………..into………….clause
			Cursor………….fetch…………clause
			Dml………………returning……clause

	1.	Bulk collect used in select………into……….clause
	Synt:	select * bulk collect into collection_name from table_name

	Ex:	declare
			Type t1 is table of emp%rowtype Index by binary_integer;
			V1	t1;
		begin
			Select * bulk collect into v1 from emp;
			For I in v.first..v1.last
			Loop
			Dbms_output.put_line (v(i).empno||’,’||v(i).ename);
			End loop;	
		End;
		
	2.	Bulk collect used in cursor……..fetch……….statement
	Synt:	fetch cursor_name bulk collect into collection_variable;
	
	Ex:	declare
			Type t2 is table of varchar2 (10) index by binary_integer;
			V1	t1;
			V2	t1;
			Cursor c1 is select ename, job from emp;
		Begin
			Open c1;
			Fetch c1 bulk collect into v1,v2;
			Close c1;
			For I in v1.first..v1.last
			Loop
			Dbms_output.put_line (v1(i)||’,’||v2(i));
			End loop;
		End;

	<b>Time program without bulk:</b>
				Declare
				Vrow varchar2(50);
				Cursor c1 is select object_name from all_objects;
				Z1 number (10);
				Z2 number (10);
				Begin
				Z1:=dbms_utility.get_time;
				Open c1;
				Loop
				Fetch c1 into vrow	;
				Exit when c1%notfound;
				End loop;
				Close c1;
				Z2:=dbms_utility.get_time;
				Dbms_output.put_line (z1);
				Dbms_output.put_line (z2);
				Dbms_output.put_line (z1-z2);
				End;

	<b>Time program without bulk:</b>
				Declare
				Vrow varchar2(50);
				Cursor c1 is select object_name from all_objects;
				Z1 number (10);
				Z2 number (10);
				Begin
				Z1:=dbms_utility.get_time;
				Open c1;
				Loop
				Fetch c1 bulk collect into vrow	;
				Exit when c1%notfound;
				End loop;
				Close c1;
				Z2:=dbms_utility.get_time;
				Dbms_output.put_line (z1);
				Dbms_output.put_line (z2);
				Dbms_output.put_line (z1-z2);
				End;


	3.Bulk collect used in DML…..returning clauses
	Synt: dml statement returning column_name into variable_name

	Ex: variable a varchar2 (10);
	Update emp set sal=sal+100 where ename=’KING’ returning job bulk collect into a;
	     Print a;

	<b>Q: write a pl/sql stored procedure modify salaries of the clerk from emp table and also these modified 
	values immediately stored in index table by using dml ……returning………clause
	And also display content form index by table?</b>
	Prgm:
		Create or replace procedure p1 is 
			Type t1 is table of emp%rowtype index by binary_integer;
			V1	t1;
		Begin
		Update emp set sal=sal+100 where job=’clerk’
		Returning empno, ename, job, mgr, hiredate, sal, comm, deptno
		Bulk collect into v1;
		Dbms_output.put_line (‘updated no.of clerks are:’||sql%rowcount);
		For I in v1.first..v1.last
		Loop
		Dbms_output.put_line (v1(i).ename||’,’||v1(i).job);
		End loop;
		End;

	<b>2.Bulk bind</b>
		=>In bulk bind process we are performing bulk of operations using collections i.e., in this process 
		we are using bulk update, bulk insert, bulk delete using “forall” statement
		=>Before we are using bulk bind process we are fetching data from database into collection using bulk 
		collect clause
		Synt: forall indexvar in collectionvar.first..collectionvar.last

	Ex:	declare
			Type t1 is varray (10) of number (10);
			V1 t1:=t1 (10, 20);
		Begin
			Forall I in v1.first..v1.last
			Update emp set sal=sal+100 where deptno=v1(i);
		End;
	
	<b>Bulk update:</b>
		Prgm:	declare
			Type t1 is table of numbe (5) index by binary_integer;
			V1 	t1;
		Begin
			Select empno bulk collect into v1 from emp;	
			Forall I in v1.first..v1.last
			Update emp set sal=sal+100 where empno=v1(i);
		End;

	<b>Bulk delete</b>
		Prgm:	declare	
			Type t1 is varray(10) of number (10);
			V1 t1:=t1(20,30,40);
		Begin
			Forall I in v1.first..v1.last
			Delete from emp where empno=v1(i);
		End;

	<b>Bulk insert</b>
		Prgm:	declare
		Type t1 is table of number (10) index by binary_integer;
		V1 t1;
		Begin
		For I in 1..100
		Loop
		V1(i):=I;
		End loop;
		Forall I in v1.first..v1.last
		Insert into bt values(v(i));
		End;

					
	</pre></p>		
					</div>	
					</div>				
				</div>
				</div>
		</main>
	

		<footer class="mdl-mini-footer" style="margin-top:2480px;" >
			<div class="mdl-mini-footer--left-section" style="margin-top:-15px;">
				<div class="mdl-logo"><b>Fallow us on</b></div>
				<ul class="mdl-mini-footer--link-list" style="margin-top:-15px;margin-left:105px;">
					<li><a href="https://facebook.com/c4c.ady" style="text-decoration:none;">	<img src="../../../images/facebook.png" 	width="35" height="35" onmouseover="this.src='../../../images/social/facebook.png'" onmouseout="this.src='../../../images/facebook.png'" style="position:relative;bottom:-12px"></a></li>
					<li><a href="https://twitter.com/c4c_ady" style="text-decoration:none;">   	<img src="../../../images/twitter.png" 	width="35" height="35" onmouseover="this.src='../../../images/social/twitter.png'" onmouseout="this.src='../../../images/twitter.png'" style="position:relative;bottom:-12px"></a>  </li>
					<li><a href="https://www.youtube.com/channel/UCDjj2kpaHyDbC9jpD1tEJ4Q" >	<img src="../../../images/youtube.png"  	width="35" height="35" onmouseover="this.src='../../../images/social/youtube.png'" onmouseout="this.src='../../../images/youtube.png'" style="position:relative;bottom:-12px"></a></li>
					<li><a href="https://instagram.com/c4c_ady" style="text-decoration:none;">	<img src="../../../images/instagram.png" width="35" height="35" onmouseover="this.src='../../../images/social/instagram.png'" onmouseout="this.src='../../../images/instagram.png'" style="position:relative;bottom:-12px"></a></li>
				</ul>
			</div>
		</footer>


	</div>


</body>
</html>